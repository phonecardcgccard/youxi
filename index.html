<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è®°å¿†åŠ›å¤§å¸ˆ - Memory Master</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æå‡è®°å¿†åŠ›ï¼ŒæŒ‘æˆ˜ä½ çš„å¤§è„‘ï¼å­—æ¯ä¸æ±‰å­—è®°å¿†åŠ›è®­ç»ƒå°æ¸¸æˆã€‚">
    <meta name="keywords" content="è®°å¿†åŠ›, è„‘åŠ›è®­ç»ƒ, è‹±æ–‡å­—æ¯, æ±‰å­—, æ¸¸æˆ, brain training, memory game, chinese memory">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Poppins', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .game-card {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.10);
        }
        .game-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <section class="py-12">
        <div class="container mx-auto px-4">
            <h1 class="text-center text-4xl font-bold mb-8 text-gray-800">è®°å¿†åŠ›å¤§å¸ˆ</h1>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8" id="games">
                <!-- Letter Memory Game -->
                <div class="game-card bg-white rounded-xl overflow-hidden shadow-lg">
                    <div class="h-48 bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center">
                        <span class="text-white text-6xl font-bold">A B C</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3 text-gray-800">å­—æ¯è®°å¿†</h3>
                        <p class="text-gray-600 mb-4">è®°ä½å‡ºç°çš„å­—æ¯é¡ºåºï¼Œç„¶åæŒ‰é¡ºåºå›å¿†ã€‚é”»ç‚¼ä½ çš„è‹±æ–‡çŸ­æ—¶è®°å¿†åŠ›~</p>
                        <button onclick="startGame('letter')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition flex items-center justify-center">
                            å¼€å§‹æ¸¸æˆ <i class="fas fa-play ml-2"></i>
                        </button>
                    </div>
                </div>
                <!-- Chinese Character Memory Game -->
                <div class="game-card bg-white rounded-xl overflow-hidden shadow-lg">
                    <div class="h-48 bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center">
                        <span class="text-white text-6xl font-bold">æ°´ ç« å±±</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3 text-gray-800">æ±‰å­—è®°å¿†</h3>
                        <p class="text-gray-600 mb-4">ç”¨æ±‰å­—æŒ‘æˆ˜ä½ çš„è§†è§‰è®°å¿†ï¼Œéå¸¸é€‚åˆä¸­æ–‡å­¦ä¹ è€…ä¸è®°å¿†çˆ±å¥½è€…ã€‚</p>
                        <button onclick="startGame('chinese')" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-medium transition flex items-center justify-center">
                            å¼€å§‹æ¸¸æˆ <i class="fas fa-play ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Area -->
    <section id="game-area" class="py-12 hidden">
        <div class="container mx-auto px-4">
            <button id="back-menu" class="mb-6 text-gray-600 hover:text-blue-700 transition" onclick="backToMenu()">
                <i class="fa fa-arrow-left mr-1"></i> è¿”å›èœå•
            </button>
            <h2 id="game-title" class="text-2xl font-bold text-gray-800 mb-3"></h2>
            <p id="game-desc" class="mb-4 text-gray-500"></p>
            <div class="mb-4 flex items-center gap-6">
                <span id="level-display" class="inline-block bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium">å…³å¡: 1</span>
                <span id="score-display" class="inline-block bg-blue-100 text-blue-700 px-4 py-2 rounded-lg font-medium">å¾—åˆ†: 0</span>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div id="game-sequence" class="text-center text-4xl font-bold mb-6 min-h-[48px]"></div>
                <div id="game-input" class="flex flex-wrap gap-2 justify-center mb-6"></div>
                <div id="user-input" class="flex flex-wrap gap-2 justify-center mb-4"></div>
                <div id="result-message" class="text-center text-2xl font-semibold my-4"></div>
                <button id="next-level" class="hidden bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-lg font-medium transition">ä¸‹ä¸€å…³</button>
                <button id="restart-game" class="hidden bg-gray-400 hover:bg-gray-500 text-white py-2 px-6 rounded-lg font-medium transition">é‡æ–°å¼€å§‹</button>
            </div>
        </div>
    </section>

    <script>
        // Game logic and config
        const LETTERS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        const CHINESE = ['æ°´','ç«','å±±','æœ¨','ç”°','æ—¥','æœˆ','é‡‘','åœŸ','é£','é›¨','äº‘','çŸ³','ç«¹','èŠ±','è‰','é±¼','é¸Ÿ','é©¬','ç‰›'];
        const GAME_CONFIGS = {
            letter: {
                title: "å­—æ¯è®°å¿†æŒ‘æˆ˜",
                desc: "ä¾æ¬¡è®°ä½å¹¶è¾“å…¥å‡ºç°è¿‡çš„è‹±æ–‡å­—æ¯ã€‚æ¯ä¸€å…³å­—æ¯æ•°é‡ä¼šå¢åŠ ã€‚",
                inputOptions: LETTERS.slice(),
                genSequence: lvl => Array.from({length: lvl+2}, ()=>LETTERS[Math.floor(Math.random()*LETTERS.length)]),
            },
            chinese: {
                title: "æ±‰å­—è®°å¿†æŒ‘æˆ˜",
                desc: "ä¾æ¬¡è®°ä½å¹¶è¾“å…¥å‡ºç°è¿‡çš„æ±‰å­—ã€‚æ¯ä¸€å…³æ±‰å­—æ•°é‡ä¼šå¢åŠ ã€‚",
                inputOptions: CHINESE.slice(),
                genSequence: lvl => Array.from({length: lvl+1}, ()=>CHINESE[Math.floor(Math.random()*CHINESE.length)]),
            }
        };

        // State
        let currentGame = null;
        let currentLevel = 1;
        let currentScore = 0;
        let currentSequence = [];
        let userInput = [];
        let inputLocked = false;

        // DOM refs
        const gameArea = document.getElementById('game-area');
        const gamesMenu = document.getElementById('games');
        const levelDisplay = document.getElementById('level-display');
        const scoreDisplay = document.getElementById('score-display');
        const titleDisplay = document.getElementById('game-title');
        const descDisplay = document.getElementById('game-desc');
        const sequenceDiv = document.getElementById('game-sequence');
        const inputDiv = document.getElementById('game-input');
        const userInputDiv = document.getElementById('user-input');
        const resultMessage = document.getElementById('result-message');
        const nextLevelBtn = document.getElementById('next-level');
        const restartBtn = document.getElementById('restart-game');
        const backMenuBtn = document.getElementById('back-menu');

        // Start chosen game
        function startGame(type) {
            currentGame = type;
            currentLevel = 1;
            currentScore = 0;
            showGameScreen();
            startLevel();
        }

        function showGameScreen() {
            gamesMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            titleDisplay.textContent = GAME_CONFIGS[currentGame].title;
            descDisplay.textContent = GAME_CONFIGS[currentGame].desc;
        }

        function backToMenu() {
            gameArea.classList.add('hidden');
            gamesMenu.classList.remove('hidden');
        }

        function startLevel() {
            // Reset state and UI
            userInput = [];
            inputLocked = true;
            resultMessage.textContent = '';
            nextLevelBtn.classList.add('hidden');
            restartBtn.classList.add('hidden');
            inputDiv.innerHTML = '';
            userInputDiv.innerHTML = '';
            updateLevelScore();
            // Generate sequence
            currentSequence = GAME_CONFIGS[currentGame].genSequence(currentLevel);

            // Show sequence (animated)
            let i = 0;
            sequenceDiv.textContent = '';
            const showNext = () => {
                if (i < currentSequence.length) {
                    sequenceDiv.textContent = currentSequence[i];
                    i++;
                    setTimeout(() => {
                        sequenceDiv.textContent = '';
                        setTimeout(showNext, 350);
                    }, 750);
                } else {
                    setTimeout(() => {
                        // Show input options
                        sequenceDiv.textContent = '';
                        inputLocked = false;
                        showInputOptions();
                        updateUserInput();
                    }, 300);
                }
            };
            showNext();
        }

        function showInputOptions() {
            inputDiv.innerHTML = '';
            GAME_CONFIGS[currentGame].inputOptions.forEach(opt => {
                const btn = document.createElement('button');
                btn.textContent = opt;
                btn.className = 'bg-gray-200 hover:bg-gray-400 text-xl px-4 py-2 rounded-lg font-bold m-1 transition';
                btn.disabled = inputLocked;
                btn.onclick = () => onInput(opt);
                inputDiv.appendChild(btn);
            });
        }

        function onInput(val) {
            if (inputLocked) return;
            userInput.push(val);
            updateUserInput();
            if (userInput.length === currentSequence.length) {
                checkAnswer();
            }
        }

        function updateUserInput() {
            // userInput display
            userInputDiv.innerHTML = '';
            userInput.forEach((item, idx) => {
                const span = document.createElement('span');
                span.textContent = item;
                span.className = "bg-blue-100 border border-blue-200 rounded-lg px-4 py-2 text-xl font-medium mx-1 mb-2";
                userInputDiv.appendChild(span);
            });
            // Dashes for remaining
            for (let i = userInput.length; i < currentSequence.length; i++) {
                const dash = document.createElement('span');
                dash.textContent = '';
                dash.className = "border-2 border-dashed border-gray-300 rounded-lg px-4 py-2 text-xl mx-1 mb-2";
                userInputDiv.appendChild(dash);
            }
        }

        function checkAnswer() {
            inputLocked = true;
            inputDiv.querySelectorAll('button').forEach(btn=>btn.disabled=true);
            const isOK = userInput.every((v,i)=>v===currentSequence[i]);
            if (isOK) {
                resultMessage.textContent = "ğŸ‰ æ­å–œç­”å¯¹ï¼";
                resultMessage.className = "text-center text-2xl font-semibold my-4 text-green-600";
                currentScore += currentLevel * 10;
                nextLevelBtn.classList.remove('hidden');
            } else {
                resultMessage.textContent = "âŒ å›ç­”é”™è¯¯ï¼Œæ¸¸æˆç»“æŸï¼";
                resultMessage.className = "text-center text-2xl font-semibold my-4 text-red-600";
                restartBtn.classList.remove('hidden');
            }
            updateLevelScore();
        }

        nextLevelBtn.onclick = function() {
            currentLevel += 1;
            startLevel();
        };
        restartBtn.onclick = function() {
            currentLevel = 1;
            currentScore = 0;
            startLevel();
        };

        function updateLevelScore() {
            levelDisplay.textContent = `å…³å¡: ${currentLevel}`;
            scoreDisplay.textContent = `å¾—åˆ†: ${currentScore}`;
        }

        // For keyboard support (optional)
        document.addEventListener('keydown', function(e){
            if (!inputLocked && /^[a-zA-Z]$/.test(e.key) && currentGame === 'letter') {
                let k = e.key.toUpperCase();
                if (GAME_CONFIGS.letter.inputOptions.includes(k)) {
                    onInput(k);
                }
            }
        });
    </script>
</body>
</html>


