<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>记忆力大师 - Memory Master</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="提升记忆力的趣味游戏 - 数字记忆、字母记忆、汉字记忆">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .game-card {
            transition: transform 0.3s ease;
        }
        .game-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- 游戏选择界面 -->
    <div class="container mx-auto px-4 py-8" id="game-selection">
        <h1 class="text-3xl font-bold text-center mb-8">记忆力大师</h1>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- 数字记忆游戏 -->
            <div class="game-card bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="h-40 bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center">
                    <span class="text-white text-5xl font-bold">123</span>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold mb-2">数字记忆</h3>
                    <p class="text-gray-600 mb-4">记住显示的数字序列，考验你的数字记忆能力！</p>
                    <button onclick="startGame('number')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition">
                        开始游戏
                    </button>
                </div>
            </div>

            <!-- 字母记忆游戏 -->
            <div class="game-card bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="h-40 bg-gradient-to-r from-purple-500 to-purple-600 flex items-center justify-center">
                    <span class="text-white text-5xl font-bold">ABC</span>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold mb-2">字母记忆</h3>
                    <p class="text-gray-600 mb-4">记住显示的字母顺序，提升英文记忆能力！</p>
                    <button onclick="startGame('letter')" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition">
                        开始游戏
                    </button>
                </div>
            </div>

            <!-- 汉字记忆游戏 -->
            <div class="game-card bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="h-40 bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center">
                    <span class="text-white text-5xl font-bold">中文</span>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold mb-2">汉字记忆</h3>
                    <p class="text-gray-600 mb-4">记住显示的汉字顺序，锻炼视觉记忆能力！</p>
                    <button onclick="startGame('chinese')" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg transition">
                        开始游戏
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 游戏界面 -->
    <div class="container mx-auto px-4 py-8 hidden" id="game-area">
        <div class="bg-white rounded-xl shadow-lg p-6">
            <div class="flex justify-between items-center mb-6">
                <button onclick="backToMenu()" class="text-gray-600 hover:text-gray-800">
                    <i class="fas fa-arrow-left mr-2"></i>返回
                </button>
                <div class="flex gap-4">
                    <span id="level" class="bg-blue-100 px-4 py-2 rounded-lg">关卡: 1</span>
                    <span id="score" class="bg-green-100 px-4 py-2 rounded-lg">得分: 0</span>
                </div>
            </div>
            
            <div id="game-display" class="text-center mb-8">
                <div id="sequence" class="text-4xl font-bold mb-4 h-20 flex items-center justify-center"></div>
                <div id="message" class="text-xl text-gray-600 mb-4"></div>
                <div id="input-area" class="flex flex-wrap gap-2 justify-center"></div>
            </div>

            <div class="flex justify-center gap-4">
                <button id="next-level" class="hidden bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition">
                    下一关
                </button>
                <button id="retry" class="hidden bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition">
                    重试
                </button>
            </div>
        </div>
    </div>

    <script>
        // 游戏配置
        const gameConfig = {
            number: {
                title: "数字记忆",
                generateSequence: (level) => {
                    return Array.from({length: level + 2}, () => Math.floor(Math.random() * 10));
                },
                options: Array.from({length: 10}, (_, i) => i.toString())
            },
            letter: {
                title: "字母记忆",
                generateSequence: (level) => {
                    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                    return Array.from({length: level + 2}, () => letters[Math.floor(Math.random() * letters.length)]);
                },
                options: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('')
            },
            chinese: {
                title: "汉字记忆",
                generateSequence: (level) => {
                    const chars = ['山', '水', '木', '火', '土', '天', '日', '月', '人', '心'];
                    return Array.from({length: level + 1}, () => chars[Math.floor(Math.random() * chars.length)]);
                },
                options: ['山', '水', '木', '火', '土', '天', '日', '月', '人', '心']
            }
        };

        // 游戏状态
        let currentGame = null;
        let currentLevel = 1;
        let score = 0;
        let sequence = [];
        let userInput = [];
        let canInput = false;

        // DOM 元素
        const gameSelection = document.getElementById('game-selection');
        const gameArea = document.getElementById('game-area');
        const sequenceDisplay = document.getElementById('sequence');
        const messageDisplay = document.getElementById('message');
        const inputArea = document.getElementById('input-area');
        const levelDisplay = document.getElementById('level');
        const scoreDisplay = document.getElementById('score');
        const nextLevelBtn = document.getElementById('next-level');
        const retryBtn = document.getElementById('retry');

        // 开始游戏
        function startGame(type) {
            currentGame = type;
            currentLevel = 1;
            score = 0;
            gameSelection.classList.add('hidden');
            gameArea.classList.remove('hidden');
            updateDisplay();
            startLevel();
        }

        // 开始新关卡
        function startLevel() {
            sequence = gameConfig[currentGame].generateSequence(currentLevel);
            userInput = [];
            canInput = false;
            nextLevelBtn.classList.add('hidden');
            retryBtn.classList.add('hidden');
            showSequence();
        }

        // 显示序列
        function showSequence(index = 0) {
            if (index < sequence.length) {
                sequenceDisplay.textContent = sequence[index];
                setTimeout(() => {
                    sequenceDisplay.textContent = '';
                    setTimeout(() => showSequence(index + 1), 300);
                }, 1000);
            } else {
                setTimeout(() => {
                    messageDisplay.textContent = '请重复序列';
                    showInputOptions();
                    canInput = true;
                }, 300);
            }
        }

        // 显示输入选项
        function showInputOptions() {
            inputArea.innerHTML = '';
            gameConfig[currentGame].options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = 'bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded-lg transition';
                button.onclick = () => handleInput(option);
                inputArea.appendChild(button);
            });
        }

        // 处理输入
        function handleInput(value) {
            if (!canInput) return;
            userInput.push(value);
            updateSequenceDisplay();
            
            if (userInput.length === sequence.length) {
                checkAnswer();
            }
        }

        // 更新序列显示
        function updateSequenceDisplay() {
            sequenceDisplay.innerHTML = userInput.join(' ');
        }

        // 检查答案
        function checkAnswer() {
            canInput = false;
            const correct = sequence.every((val, idx) => val === userInput[idx]);
            
            if (correct) {
                messageDisplay.textContent = '答对了！';
                score += currentLevel * 10;
                currentLevel++;
                nextLevelBtn.classList.remove('hidden');
            } else {
                messageDisplay.textContent = '答错了！';
                retryBtn.classList.remove('hidden');
            }
            updateDisplay();
        }

        // 更新显示
        function updateDisplay() {
            levelDisplay.textContent = `关卡: ${currentLevel}`;
            scoreDisplay.textContent = `得分: ${score}`;
        }

        // 返回菜单
        function backToMenu() {
            gameArea.classList.add('hidden');
            gameSelection.classList.remove('hidden');
        }

        // 事件监听
        nextLevelBtn.onclick = startLevel;
        retryBtn.onclick = () => {
            currentLevel = 1;
            score = 0;
            startLevel();
        };
    </script>
</body>
</html>

